Давай спланируем дорожную карту с учетом того, что я мало знаком с Postgre, Supabase, Logto OSS

Я буду свое понимание писать простыми словами, а ты меня фокусируй и корректируй так, как будто от твоих рекомендаций зависит будущее ИТ стартапа или его полный провал

Ты не просто профессиональный фуллстек-сеньор разработчик, ты так же опытный ментор для индивидуальных разработчиков и начинающих стартапов

Необходимо реализовать личный кабинет Администратора сайтов с предоставлением SSO с полной поддержкой GDPR и требований PII (Personally Identifiable Information), где настроена полноценная IAM система как сервис для администраторов на базе открытой системы Logto OSS + PostgreSQL

Какая идея? Разделить персональные данные (общая база PostgreSQL и активность пользователей со своими базами данных для своих CMS)

Администратор получает доступ к кабинету с User Management и конструктору авторизаций, которые ставит на свои сайты, например интернет магазин

когда покупатель или менеджер магазина регистрируется в интернет магазине, то их данные не сохраняются на стороне магазина (CMS), а сохраняются в User Management SSO и выделенной базе для админа PostgreSQL. А на стороне CMS пользователь (менеджер, продавец, покупатель) получают только цифровой паспорт выданный SSO по которому невозможно идентифицировать персональные данные на стороне магазина, сохранится только текущая активность у каждого своя с привязкой к user_id

на стороне CMS пользователь если хочет, может синхронизовать с SSO и сам выбирает, какими данными делиться (opt-in) - он в любом случае деанонимизирован на стороне интернет магазина (за счет шифрования, то есть в CMS невозможно прочитать данные), так как его регистрационные данные включая верификацию по реальному паспрорту хранятся на отдельной базе в User Management. На стороне платежных систем полный порядок, так как у них своя система верификации.

Главная идея - соблюдать закон о хранении персональных данных в стране гражданства, а активность на серверах там, где лучше развита инфраструктура или в той же стране но просто обезопасить владельца интернет-магазина от штрафов за утечки персональных данных, так как у него в CMS нет чувствительных данных таких как email, телефон, никнеймы в соцсетях, а те которые есть user_id, имя, фамилия зашифрованы на стороне SSO. В случае нежелательной активности - он может заблокировать и отозвать права на авторизацию SSO и отправить жалобу в User Management Администратору 

